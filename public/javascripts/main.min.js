function parseURL(){let e=window.location.hash;return(e=e.split("/")).hash=e[0].substring(1,window.location.hash.length),e.length>0&&(e.anchor=e[1]),e}function scrollTo(){const e=parseURL(),o=$("a[name='"+e.anchor+"']");o.length&&$("html,body").animate({scrollTop:o.offset().top},"slow")}function getDocs(e){$.ajax({method:"GET",url:"/sidebar"}).done((o,t)=>{e(o)})}function stripHTML(e){return $(e).text().trim()}function setMetaTags(e){document.title=e.docTitle,$("meta[property='og\\:title']").attr("content",e.docTitle),$("meta[name=title]").attr("content",e.docTitle),stripHTML(e.docBody).length>160?($("meta[property='og\\:description']").attr("content",stripHTML(e.docBody.substring(0,200))),$("meta[name=description]").attr("content",stripHTML(e.docBody.substring(0,200)))):($("meta[property='og\\:description']").attr("content",stripHTML(e.docBody)),$("meta[name=description]").attr("content",stripHTML(e.docBody)))}function populateSideMenu(e){$.each(e,(e,o)=>{$(".sidebar").append('<li class="list-group-item collection-item sidebarLink"><a href="#'+o.docSlug+'">'+o.docTitle+"</a></li>")})}function populateTopMenu(){$.ajax({method:"GET",url:"/config"}).done((e,o)=>{$.each(e.menuItems,(e,o)=>{$(".nav").append('<li><a href="'+o.menuLink+'">'+o.menuTitle+"</a></li>")})})}$(document).ready(()=>{window.location.hash&&$(window).trigger("hashchange"),getDocs(e=>{populateSideMenu(e.docs),$(".navbar-brand, .brand-logo").html(e.config.title),""===window.location.hash&&e.docs.length>0&&(window.location.hash="#"+e.docs[0].docSlug);const o=$(".sidebarLink");populateTopMenu(),$("#searchInput").on("keyup",()=>{$("#searchInput").val().length>2?$.ajax({method:"POST",data:{keyword:$("#searchInput").val()},url:"/search"}).done((e,t)=>{"success"===t?($(".sidebarLink").remove(),$.each(e,(e,o)=>{$(".sidebar").append('<li class="list-group-item collection-item sidebarLink"><a href="#'+o.docSlug+'">'+o.docTitle+"</a></li>")})):($(".sidebarLink").remove(),$(".sidebar").append(o))}):($(".sidebarLink").remove(),$(".sidebar").append(o))})}),$("#sidebarCollapse").on("click",()=>{$("#sidebar").toggleClass("active")}),$("body").on("click",".sidebarLink a",()=>{$(".sidebar-container").toggleClass("sidebar-container-show")})}),$(window).bind("hashchange",()=>{scrollTo(),"#"===window.location.hash.trim()||""===window.location.hash.trim()?getDocs(e=>{e.docs.length>0?($("#main").html(e.docs[0].docBody),setMetaTags(e.docs[0]),window.location.hash="#"+e.docs[0].docSlug):$("#main").html("<h3>No docs. Please create some docs.<h3>")}):$.ajax({method:"GET",url:"/doc/"+parseURL().hash}).done((e,o)=>{if(e.doc.docBody){if($("#main").html(e.doc.docBody),setMetaTags(e.doc),e.doc.nextDoc?($("#linkNext a").attr("href","#"+e.doc.nextDoc.docSlug),$("#linkNext a").removeClass("hidden hide")):$("#linkNext a").addClass("hidden hide"),e.doc.prevDoc?($("#linkPrev a").attr("href","#"+e.doc.prevDoc.docSlug),$("#linkPrev a").removeClass("hidden hide")):$("#linkPrev a").addClass("hidden hide"),$("pre code").each((e,o)=>{hljs.highlightBlock(o)}),$("img").each(function(e){$(this).parent().addClass("center-align align-center"),$(this).addClass("img-responsive responsive-img")}),e.config.addAnchors){const e=parseURL();$("h1, h2, h3, h4, h5").each(function(o){const t=$(this).text();$(this).html("<a name='"+t+"' href='#"+e.hash+"/"+t+"'>"+t+"</a>")}),scrollTo()}}else $("#main").html('<h1 class="text-center">404 Not found<h1>')})});