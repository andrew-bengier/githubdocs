function getDocs(e){$.ajax({method:"GET",url:"/sidebar"}).done(function(o,t){e(o)})}function stripHTML(e){return $(e).text().trim()}function setMetaTags(e){document.title=e.docTitle,$("meta[property='og\\:title']").attr("content",e.docTitle),$("meta[name=title]").attr("content",e.docTitle),stripHTML(e.docBody).length>160?($("meta[property='og\\:description']").attr("content",stripHTML(e.docBody.substring(0,200))),$("meta[name=description]").attr("content",stripHTML(e.docBody.substring(0,200)))):($("meta[property='og\\:description']").attr("content",stripHTML(e.docBody)),$("meta[name=description]").attr("content",stripHTML(e.docBody)))}function populateSideMenu(e){$.each(e,function(e,o){$(".sidebar").append('<li class="list-group-item collection-item sidebarLink"><a href="#'+o.docSlug+'">'+o.docTitle+"</a></li>")})}function populateTopMenu(){$.ajax({method:"GET",url:"/config"}).done(function(e,o){$.each(e.menuItems,function(e,o){$(".nav").append('<li><a href="'+o.menuLink+'">'+o.menuTitle+"</a></li>")})})}$(document).ready(function(){window.location.hash&&$(window).trigger("hashchange"),getDocs(function(e){populateSideMenu(e.docs),$(".navbar-brand, .brand-logo").html(e.config.title),""===window.location.hash&&e.docs.length>0&&(window.location.hash="#"+e.docs[0].docSlug);var o=$(".sidebarLink");populateTopMenu(),$("#searchInput").on("keyup",function(){$("#searchInput").val().length>2?$.ajax({method:"POST",data:{keyword:$("#searchInput").val()},url:"/search"}).done(function(e,t){"success"===t?($(".sidebarLink").remove(),$.each(e,function(e,o){$(".sidebar").append('<li class="list-group-item collection-item sidebarLink"><a href="#'+o.docSlug+'">'+o.docTitle+"</a></li>")})):($(".sidebarLink").remove(),$(".sidebar").append(o))}):($(".sidebarLink").remove(),$(".sidebar").append(o))})}),$(".sidebarToggle").click(function(){$(".sidebar-container").toggleClass("sidebar-container-show")}),$("body").on("click",".sidebarLink a",function(){$(".sidebar-container").toggleClass("sidebar-container-show")})}),$(window).bind("hashchange",function(){"#"===window.location.hash.trim()||""===window.location.hash.trim()?getDocs(function(e){e.docs.length>0?($("#main").html(e.docs[0].docBody),setMetaTags(e.docs[0]),window.location.hash="#"+e.docs[0].docSlug):$("#main").html("<h3>No docs. Please create some docs.<h3>")}):$.ajax({method:"GET",url:"/doc/"+window.location.hash.substring(1,window.location.hash.length)}).done(function(e,o){$("#main").html(e.doc.docBody),setMetaTags(e.doc),e.doc.nextDoc?($("#linkNext a").attr("href","#"+e.doc.nextDoc.docSlug),$("#linkNext a").removeClass("hidden hide")):$("#linkNext a").addClass("hidden hide"),e.doc.prevDoc?($("#linkPrev a").attr("href","#"+e.doc.prevDoc.docSlug),$("#linkPrev a").removeClass("hidden hide")):$("#linkPrev a").addClass("hidden hide"),$("pre code").each(function(e,o){hljs.highlightBlock(o)})})});