function getDocs(o){$.ajax({method:"GET",url:"/sidebar"}).done(function(t,e){o(t)})}function stripHTML(o){return $(o).text().trim()}function setMetaTags(o){document.title=o.docTitle,$("meta[property='og\\:title']").attr("content",o.docTitle),$("meta[name=title]").attr("content",o.docTitle),stripHTML(o.docBody).length>160?($("meta[property='og\\:description']").attr("content",stripHTML(o.docBody.substring(0,200))),$("meta[name=description]").attr("content",stripHTML(o.docBody.substring(0,200)))):($("meta[property='og\\:description']").attr("content",stripHTML(o.docBody)),$("meta[name=description]").attr("content",stripHTML(o.docBody)))}function populateSideMenu(o){$.each(o,function(o,t){$(".sidebar").append('<li class="list-group-item sidebarLink"><a href="#'+t.docSlug+'">'+t.docTitle+"</a></li>")})}function populateTopMenu(){$.ajax({method:"GET",url:"/config"}).done(function(o,t){$.each(o.menuItems,function(o,t){$(".nav").append('<li><a href="'+t.menuLink+'">'+t.menuTitle+"</a></li>")})})}$(document).ready(function(){window.location.hash&&$(window).trigger("hashchange"),getDocs(function(o){populateSideMenu(o.docs),$(".navbar-brand").html(o.config.title),""===window.location.hash&&o.docs.length>0&&(window.location.hash="#"+o.docs[0].docSlug),o.docs.length>0?($("#main").html(o.docs[0].docBody),setMetaTags(o.docs[0])):$("#main").html("<h3>No docs. Please create some docs.<h3>");var t=$(".sidebarLink");populateTopMenu(),$("#searchInput").on("keyup",function(){$("#searchInput").val().length>2?$.ajax({method:"POST",data:{keyword:$("#searchInput").val()},url:"/search"}).done(function(o,e){"success"===e?($(".sidebarLink").remove(),$.each(o,function(o,t){$(".sidebar").append('<li class="list-group-item sidebarLink"><a href="#'+t.docSlug+'">'+t.docTitle+"</a></li>")})):($(".sidebarLink").remove(),$(".sidebar").append(t))}):($(".sidebarLink").remove(),$(".sidebar").append(t))})}),$(".sidebarToggle").click(function(){$(".sidebar-container").toggleClass("sidebar-container-show")}),$("body").on("click",".sidebarLink a",function(){$(".sidebar-container").toggleClass("sidebar-container-show")})}),$(window).bind("hashchange",function(){"#"===window.location.hash.trim()||""===window.location.hash.trim()?getDocs(function(o){o.docs.length>0?($("#main").html(o.docs[0].docBody),document.title=o.docs[0].docTitle,window.location.hash="#"+o.docs[0].docSlug):$("#main").html("<h3>No docs. Please create some docs.<h3>")}):$.ajax({method:"GET",url:"/doc/"+window.location.hash.substring(1,window.location.hash.length)}).done(function(o,t){$("#main").html(o.doc.docBody),setMetaTags(o.doc)})});
